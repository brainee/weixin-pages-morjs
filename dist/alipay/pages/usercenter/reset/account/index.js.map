{"version":3,"file":"pages/usercenter/reset/account/index.js","mappings":";;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack:///./pages/usercenter/reset/account/index.js"],"sourcesContent":["var __MOR_PAGE__ = require('@morjs/core').createPage;\n\nvar __MOR_API__ = require('@morjs/api').mor;\n\nimport { getCurrentPageParam, } from '../../../../utils/queryString';\n__MOR_PAGE__({\n    data: {\n        formData: { account: \"\" },\n        accountLogin: \"重置密码\",\n        stepDisabled: true,\n    },\n    inputChange: function (e) {\n        let prop = e.currentTarget.dataset.prop;\n        let value = e.detail.value;\n        this.data.formData[prop] = value;\n        let flag = this.getVerificationCode(value);\n        // flag=true;\n        if ((value === null || value === void 0 ? void 0 : value.length) > 11) {\n            __MOR_API__.showToast({\n                \"title\": \"手机号码不正确\"\n            });\n        }\n        if (!flag) {\n            this.setData({\n                stepDisabled: true,\n            });\n        }\n        else {\n            this.setData({\n                stepDisabled: false,\n            });\n        }\n        this.setData({\n            formData: this.data.formData\n        });\n    },\n    goStep2() {\n        let account = this.data.formData.account;\n        let flag = this.getVerificationCode(account);\n        if (flag) {\n            __MOR_API__.navigateTo({ url: `/pages/usercenter/code/index?account=${account}&operate=reset` });\n        }\n    },\n    onLoad() {\n        let { account, operate } = getCurrentPageParam() || {};\n        console.log(\"[zy]got from last page:account\", account);\n        this.data.formData.account = account;\n        this.setData({\n            formData: this.data.formData,\n            stepDisabled: !account,\n        });\n        // checkWxSession();\n        // wxLogin();\n    },\n    onShow() {\n        // this.getTabBar()?.init();\n    },\n    getVerificationCode: function (phone) {\n        // https://developer.aliyun.com/article/1431953?spm=5176.26934562.main.1.33046d28Ikjk93\n        var reg = /^1[3-9][0-9]{9}$/;\n        var flag = reg.test(phone);\n        return flag;\n    },\n}, \"w\");\n"],"names":[],"sourceRoot":""}